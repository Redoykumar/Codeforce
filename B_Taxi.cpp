#include<bits/stdc++.h>
using namespace std;
int main()
{
    int t;
    int s=0,c=0,g3=0,g2=0,g1=0;
    cin>>t;
    while(t--)
    {
        int a;
        cin>>a;
        if(a==4)
        {
            c++;
        }
        else if(a==3)
        {
            g3++;
            if(g1>0)
            {
                g3--;
                g1--;
                c++;
            }
        }
        else if(a==2)
        {
            g2++;
            if(g2>1)
            {
                g2-=2;
                c++;
            }
           if(g1>1)
            {
                g1-=2;
                g2--;

                c++;
            }
        }
        else if(a==1)
        {
            g1++;
            if(g3>0)
            {
                g1--;
                g3--;
                c++;
            }
           if(g2>0&&g1>1)
            {
                g2--;
                g1-=2;
                c++;

            }
            if(g1>3)
            {
            g1-=4;
            c++;
            }


        }



    }
    if(g2==1&&g1==1)
    {
        c++;
        g1--;
        g2--;
    }
    c+=ceil((double)g1/4.0);
    c+=ceil((double)(g2*2)/4.0);
    c+=g3;
    cout<<c<<endl;
}
//
///*2 2 2 2 */3  3 /*2 2 2 2*/ //4
////2 2 2 2 2  2 2 2 2 2
////2 2 2 2 2  2 2 2 2 2       //10
///*2 2 2 2 2  2 */1 /*2 2*/ 3  //4
///*2 2 2 2 2  2 2*/ 1 1 /*2*/   //4
///*2 2 2 2 2  2 1 2 2*/ 2     //4
////2 2 2 2 2  2 2 2 2 2         //5
///*2 2 2 2 2  2 2 2*/         //4
